# Events Handled by SDK Core

## Configuration Request Content

The purpose of this event is to allow the end user to specify to the SDK from where the SDK should retrieve a JSON definition of its configuration. This event is triggered by the developer by using the public APIs and results in the configuration extension publishing a [Configuration Response Content](events-dispatched-by-sdk-core.md#configuration-response-content) event.

This event will be generated in the following scenarios:

* `SetAppId` API, when the customer requests that the configuration is loaded by using the application identifier.
* `ConfigureWithFileInPath` API, when the customer requests that the configuration be loaded by using the local file.
* `UpdateConfiguration` API, when the customer requests updates to specific configuration parameters.
* `SetPrivacyStatus` API, which calls `UpdateConfiguration`
* `GetPrivacyStatus` API, when customer requests the currently configured `global.privacy` parameter.
* Internally when the `start` method is called to request that the configuration is refreshed by the application identifier.
* Internally by a `LIFECYCLE` event type  and a `REQUEST_CONTENT` source to request that the configuration is refreshed by the application identifier.

### Data Payload Definition

Each of the data payload keys in the table should use the _config_ prefix. All of the possible keys in the payload are optional, but at least one key must be present so that the SDK Core extension can fetch a configuration.

The underlying methods prioritize each option in the following order:

1. Application ID
2. File Path
3. Configuration Update
4. Retrive Config

Here are the key-value pairs in this event:

| **Name** | **Key** | **Value Type** | **Optional** | **Description** |
| :--- | :--- | :--- | :--- | :--- |
| Application ID | config.appId | string | true | The Application ID given to this app by Adobe Mobile Services. The Configuration Module will attempt to retrieve the SDK configuration from a remote server that is owned and maintained by Adobe specifically for the provided _appId._ |
| File Path | config.filePath | string | true | A path and file name from which the Configuration Module will attempt to retrieve and SDK configuration.   The path is absolute. |
| Configuration Update | config.update | Map | true | A Hashmap with the parameters that need to be updated in the Configuration. |
| Retrieve Config | config.getData | Boolean | true | A request for a [Configuration Response Content](https://launch.gitbook.io/marketing-mobile-sdk-v5-by-adobe-documentation/~/edit/drafts/-LLAyhl1fBC81Z6OmIeS/build-your-own-extension/events/sdk-core/events-dispatched-by-sdk-core#configuration-response-content) event with the SDK's current configuration. |

## Lifecycle Data Content Response

Lifecycle events with event data key `lifecycle.sessionEvent` with value `start`. The Configuration Module will load any previously set application ID, and if found, dispatch an intneral set app ID event. After the Configuration Module receives the set app ID event, the extension attempts to download a configuration that corresponds to the given application ID and refresh the cached configuration.

This event is a response from the Lifecycle module to notify lifecycle context data in which a client or module might be interested. If a callback has been regsitered, this event can be used to issue a callback to the user. This event will be generated by the Lifecycle module, when on startup, session info or lifecycle context data is available.

### Data Payload Definition

Here are the key-value pairs in this event:

| **Key/Key Type** | **Value Type** | **Optional** | **Description** |
| :--- | :--- | :--- | :--- |
| CONTEXT\_DATA \(String\) | Map&lt;String,String&gt; | False | The value will be a map of the key-value pairs that are properly namespaced by the Lifecycle extension. This data can be consumed by other extensons that want to operate on the data. |
| SESSION\_EVENT | String | False | The type of event, `LIFECYCLE_START` or `LIFECYCLE_PAUSE`, that triggered this response. |
| SESSION\_START\_TIMESTAMP | Long | False | The start timestamp of the new session. |
| MAX\_SESSION\_LENGTH | Long | False | Maximum time in milliseconds before a session is timed out. The default value is 7 days. **Tip**: This value is different from the `lifecycle.sessionTimeout` configuration parameter that specifies the timeout for a **paused** session. |
| PREVIOUS\_SESSION\_START\_TIMESTAMP | Long | False | The previous session's start timestamp. If there was no previous session, this value might be `0L`. |
| PREVIOUS\_SESSION\_PAUSE\_TIMESTAMP | Long | False | The previous session's pause timestamp. If there was no previous session, the value might be `0L`. |

